[gd_scene load_steps=26 format=3 uid="uid://xvrd48862wjw"]

[ext_resource type="Script" path="res://src/perry_pinball/perry_pinball.gd" id="1_5m1s2"]
[ext_resource type="PackedScene" uid="uid://b0e3falqlw7c6" path="res://src/reusable/game_background.tscn" id="2_a5c40"]
[ext_resource type="PackedScene" uid="uid://brwrw47ug7fwj" path="res://src/reference/grid_reference.tscn" id="2_m5b6l"]
[ext_resource type="Texture2D" uid="uid://tnt2ps7utby6" path="res://src/perry_pinball/textures/background.png" id="3_ddbgp"]
[ext_resource type="Texture2D" uid="uid://br8t0gx53ry6x" path="res://src/perry_pinball/textures/0Yziab.png" id="4_7nepx"]
[ext_resource type="PackedScene" uid="uid://lcx8nxfsn0dl" path="res://src/perry_pinball/left_paddle.tscn" id="4_ani1h"]
[ext_resource type="PackedScene" uid="uid://denfedtiiogso" path="res://src/perry_pinball/right_paddle.tscn" id="5_wpo1i"]
[ext_resource type="PackedScene" uid="uid://c1vpyeuwjipw" path="res://src/perry_pinball/spring.tscn" id="6_55ylv"]
[ext_resource type="Script" path="res://src/perry_pinball/pinball.gd" id="6_uxxsj"]
[ext_resource type="Texture2D" uid="uid://chijw7jghe4i3" path="res://src/perry_pinball/textures/pinball.png" id="7_shnbq"]
[ext_resource type="PackedScene" uid="uid://pue0wwaoec4b" path="res://src/perry_pinball/bumper.tscn" id="8_t6jch"]
[ext_resource type="Script" path="res://src/perry_pinball/fall.gd" id="10_g0ujo"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_gajnb"]
friction = 0.1
bounce = 0.6

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_qvbma"]
friction = 0.1
bounce = 0.6

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_pac4u"]
friction = 0.1
bounce = 0.2

[sub_resource type="AtlasTexture" id="AtlasTexture_sggxg"]
atlas = ExtResource("7_shnbq")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_3seep"]
atlas = ExtResource("7_shnbq")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_g4p6g"]
atlas = ExtResource("7_shnbq")
region = Rect2(64, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_qwpxt"]
atlas = ExtResource("7_shnbq")
region = Rect2(96, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_f57ax"]
atlas = ExtResource("7_shnbq")
region = Rect2(128, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_utc55"]
atlas = ExtResource("7_shnbq")
region = Rect2(160, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_oin8k"]
atlas = ExtResource("7_shnbq")
region = Rect2(192, 0, 32, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_sq1yt"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_sggxg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3seep")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_g4p6g")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qwpxt")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_f57ax")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_utc55")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_oin8k")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="CircleShape2D" id="CircleShape2D_wi2l7"]
radius = 19.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_nse3a"]
size = Vector2(80, 24)

[node name="PerryPinball" type="Node2D"]
script = ExtResource("1_5m1s2")
metadata/_edit_vertical_guides_ = [666.0]

[node name="GridReference" parent="." instance=ExtResource("2_m5b6l")]
show_9x16 = true

[node name="GameBackground" parent="." instance=ExtResource("2_a5c40")]
game_background_texture = ExtResource("3_ddbgp")

[node name="CanvasLayer" type="CanvasLayer" parent="."]
layer = -2
visible = false

[node name="TextureRect" type="TextureRect" parent="CanvasLayer"]
offset_top = -157.0
offset_right = 720.0
offset_bottom = 1280.0
texture = ExtResource("4_7nepx")

[node name="PinballMachine2" type="Node2D" parent="."]

[node name="OuterWalls" type="StaticBody2D" parent="PinballMachine2"]
physics_material_override = SubResource("PhysicsMaterial_gajnb")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="PinballMachine2/OuterWalls"]
polygon = PackedVector2Array(0, 0, 0, 1280, 200, 1280, 200, 1176, 24, 1050, 24, 809, 83, 651, 11, 337, 10, 307, 18, 264, 24, 247, 37, 221, 53, 199, 90, 158, 129, 125, 131, 104, 135, 90, 144, 74, 160, 59, 180, 46, 205, 34, 229, 25, 266, 15, 312, 8, 356, 5, 400, 5, 464, 11, 515, 22, 563, 37, 607, 53, 637, 51, 659, 67, 681, 78, 690, 97, 697, 148, 692, 177, 692, 1280, 720, 1280, 720, 0)

[node name="PinJoint2D" type="PinJoint2D" parent="PinballMachine2/OuterWalls"]
position = Vector2(200, 1176)

[node name="LeftPaddle" parent="PinballMachine2/OuterWalls/PinJoint2D" instance=ExtResource("4_ani1h")]

[node name="PinJoint2D2" type="PinJoint2D" parent="PinballMachine2/OuterWalls"]
position = Vector2(450, 1176)

[node name="RightPaddle" parent="PinballMachine2/OuterWalls/PinJoint2D2" instance=ExtResource("5_wpo1i")]

[node name="RampWalls" type="StaticBody2D" parent="PinballMachine2"]
position = Vector2(450, 1280)
physics_material_override = SubResource("PhysicsMaterial_qvbma")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="PinballMachine2/RampWalls"]
polygon = PackedVector2Array(0, 0, 190, 0, 190, -1116, 182, -1132, 170, -1150, 145, -1172, 129, -1147, 141, -1136, 155, -1119, 163, -1106, 172, -1081, 178, -1057, 178, -1027, 173, -1006, 76, -672, 175, -473, 176, -230, 0, -104)

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="PinballMachine2/RampWalls"]
polygon = PackedVector2Array(72, -1188, 85, -1181, 95, -1203, 81, -1208)

[node name="CollisionPolygon2D3" type="CollisionPolygon2D" parent="PinballMachine2/RampWalls"]
polygon = PackedVector2Array(14, -1207, 25, -1202, 32, -1220, 20, -1225)

[node name="CollisionPolygon2D4" type="CollisionPolygon2D" parent="PinballMachine2/RampWalls"]
polygon = PackedVector2Array(-49, -1214, -43, -1230, -129, -1230, -176, -1222, -212, -1214, -231, -1206, -243, -1200, -257, -1189, -263, -1184, -231, -1195, -205, -1203, -174, -1210, -125, -1216)

[node name="Spring" parent="." instance=ExtResource("6_55ylv")]

[node name="Pinball" type="RigidBody2D" parent="." node_paths=PackedStringArray("starting_position_marker") groups=["ball"]]
position = Vector2(666, 1246)
mass = 2.5
physics_material_override = SubResource("PhysicsMaterial_pac4u")
gravity_scale = 0.9
linear_damp = 0.1
angular_damp = 0.1
script = ExtResource("6_uxxsj")
starting_position_marker = NodePath("../StartingPosition")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="Pinball"]
position = Vector2(4.76837e-07, -2.38419e-07)
scale = Vector2(1.25, 1.25)
sprite_frames = SubResource("SpriteFrames_sq1yt")
autoplay = "default"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Pinball"]
shape = SubResource("CircleShape2D_wi2l7")

[node name="Bumpers" type="Node2D" parent="."]

[node name="Bumper" parent="Bumpers" instance=ExtResource("8_t6jch")]
position = Vector2(448, 512)
worth = 1

[node name="Bumper2" parent="Bumpers" instance=ExtResource("8_t6jch")]
position = Vector2(192, 512)
worth = 2

[node name="Bumper3" parent="Bumpers" instance=ExtResource("8_t6jch")]
position = Vector2(320, 320)
worth = 3

[node name="Fall" type="Area2D" parent="."]
position = Vector2(320, 1268)
script = ExtResource("10_g0ujo")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Fall"]
shape = SubResource("RectangleShape2D_nse3a")

[node name="StartingPosition" type="Marker2D" parent="."]
position = Vector2(666, 1087)
