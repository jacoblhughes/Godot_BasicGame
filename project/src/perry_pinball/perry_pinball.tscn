[gd_scene load_steps=26 format=3 uid="uid://xvrd48862wjw"]

[ext_resource type="Script" path="res://src/perry_pinball/perry_pinball.gd" id="1_5m1s2"]
[ext_resource type="PackedScene" uid="uid://b0e3falqlw7c6" path="res://src/reusable/game_background.tscn" id="2_a5c40"]
[ext_resource type="Texture2D" uid="uid://tnt2ps7utby6" path="res://src/perry_pinball/textures/background.png" id="3_ddbgp"]
[ext_resource type="PackedScene" uid="uid://lcx8nxfsn0dl" path="res://src/perry_pinball/left_paddle.tscn" id="4_ani1h"]
[ext_resource type="PackedScene" uid="uid://denfedtiiogso" path="res://src/perry_pinball/right_paddle.tscn" id="5_wpo1i"]
[ext_resource type="Script" path="res://src/perry_pinball/spring.gd" id="6_0ygbd"]
[ext_resource type="Script" path="res://src/perry_pinball/pinball.gd" id="6_uxxsj"]
[ext_resource type="Texture2D" uid="uid://chijw7jghe4i3" path="res://src/perry_pinball/textures/pinball.png" id="7_shnbq"]
[ext_resource type="PackedScene" uid="uid://pue0wwaoec4b" path="res://src/perry_pinball/bumper.tscn" id="8_t6jch"]
[ext_resource type="Script" path="res://src/perry_pinball/fall.gd" id="10_g0ujo"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_5bi8t"]
bounce = 0.5

[sub_resource type="RectangleShape2D" id="RectangleShape2D_1w6l0"]
size = Vector2(144, 16)

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_x1emw"]
friction = 0.8
bounce = 0.6

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_pac4u"]
friction = 0.1
bounce = 0.2

[sub_resource type="AtlasTexture" id="AtlasTexture_sggxg"]
atlas = ExtResource("7_shnbq")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_3seep"]
atlas = ExtResource("7_shnbq")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_g4p6g"]
atlas = ExtResource("7_shnbq")
region = Rect2(64, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_qwpxt"]
atlas = ExtResource("7_shnbq")
region = Rect2(96, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_f57ax"]
atlas = ExtResource("7_shnbq")
region = Rect2(128, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_utc55"]
atlas = ExtResource("7_shnbq")
region = Rect2(160, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_oin8k"]
atlas = ExtResource("7_shnbq")
region = Rect2(192, 0, 32, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_sq1yt"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_sggxg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3seep")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_g4p6g")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qwpxt")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_f57ax")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_utc55")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_oin8k")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="CircleShape2D" id="CircleShape2D_wi2l7"]
radius = 24.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_pkjii"]
size = Vector2(64, 64)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_nse3a"]
size = Vector2(77.4585, 78.2192)

[node name="PerryPinball" type="Node2D"]
script = ExtResource("1_5m1s2")

[node name="GameBackground" parent="." instance=ExtResource("2_a5c40")]
game_background_texture = ExtResource("3_ddbgp")

[node name="PinballMachine" type="Node2D" parent="."]

[node name="BallWall" type="StaticBody2D" parent="PinballMachine"]
position = Vector2(600, 684)
physics_material_override = SubResource("PhysicsMaterial_5bi8t")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="PinballMachine/BallWall"]
polygon = PackedVector2Array(8, 20, 8, 428, -8, 428, -8, -428, -8, -516, -24, -532, -400, -532, -400, -548, -8, -572, 8, -532, 8, -428)

[node name="CollisionShape2D" type="CollisionShape2D" parent="PinballMachine/BallWall"]
position = Vector2(-472, -540)
rotation = 3.14159
shape = SubResource("RectangleShape2D_1w6l0")
one_way_collision = true

[node name="Polygon2D" type="Polygon2D" parent="PinballMachine/BallWall"]
polygon = PackedVector2Array(8, 20, 8, 428, -8, 428, -8, -428, -8, -516, -24, -532, -544, -532, -544, -548, -8, -572, 8, -532, 8, -428)

[node name="OuterWalls" type="StaticBody2D" parent="PinballMachine"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="PinballMachine/OuterWalls"]
position = Vector2(0, 4)
polygon = PackedVector2Array(0, -4, 720, -4, 720, 44, 96, 44, 48, 92, 48, 1228, 672, 1228, 672, 92, 624, 44, 720, 44, 720, 1276, 0, 1276)

[node name="LeftBumper" type="StaticBody2D" parent="PinballMachine"]
position = Vector2(48, 1040)
physics_material_override = SubResource("PhysicsMaterial_x1emw")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="PinballMachine/LeftBumper"]
polygon = PackedVector2Array(0, 0, 136, 0, 136, -32, 0, -368)

[node name="PinJoint2D" type="PinJoint2D" parent="PinballMachine/LeftBumper"]
position = Vector2(136, 0)
node_a = NodePath("..")
node_b = NodePath("LeftPaddle")
bias = 0.9

[node name="LeftPaddle" parent="PinballMachine/LeftBumper/PinJoint2D" instance=ExtResource("4_ani1h")]
unique_name_in_owner = true

[node name="RightBumper" type="StaticBody2D" parent="PinballMachine"]
position = Vector2(592, 1040)
physics_material_override = SubResource("PhysicsMaterial_x1emw")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="PinballMachine/RightBumper"]
polygon = PackedVector2Array(0, 0, -136, 0, -136, -32, 0, -368)

[node name="PinJoint2D" type="PinJoint2D" parent="PinballMachine/RightBumper"]
position = Vector2(-136, 0)
node_a = NodePath("..")
node_b = NodePath("RightPaddle")
bias = 0.9

[node name="RightPaddle" parent="PinballMachine/RightBumper/PinJoint2D" instance=ExtResource("5_wpo1i")]
unique_name_in_owner = true

[node name="Catch" type="StaticBody2D" parent="PinballMachine"]
position = Vector2(160, 1120)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="PinballMachine/Catch"]
polygon = PackedVector2Array(-112, -80, 160, 52, 448, 76, 448, 112, -112, 112)

[node name="Polygon2D" type="Polygon2D" parent="PinballMachine/Catch"]
color = Color(0.84648, 0.550683, 0, 1)
polygon = PackedVector2Array(-112, -80, 160, 52, 448, 76, 448, 112, -112, 112)

[node name="Pinball" type="RigidBody2D" parent="." groups=["ball"]]
position = Vector2(640, 1132)
mass = 2.5
physics_material_override = SubResource("PhysicsMaterial_pac4u")
gravity_scale = 0.9
linear_damp = 0.1
angular_damp = 0.1
script = ExtResource("6_uxxsj")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="Pinball"]
scale = Vector2(1.5, 1.5)
sprite_frames = SubResource("SpriteFrames_sq1yt")
autoplay = "default"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Pinball"]
shape = SubResource("CircleShape2D_wi2l7")

[node name="Spring" type="Area2D" parent="."]
position = Vector2(640, 1200)
script = ExtResource("6_0ygbd")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Spring"]
shape = SubResource("RectangleShape2D_pkjii")

[node name="Bumpers" type="Node2D" parent="."]

[node name="Bumper" parent="Bumpers" instance=ExtResource("8_t6jch")]
position = Vector2(448, 512)
worth = 1

[node name="Bumper2" parent="Bumpers" instance=ExtResource("8_t6jch")]
position = Vector2(192, 512)
worth = 2

[node name="Bumper3" parent="Bumpers" instance=ExtResource("8_t6jch")]
position = Vector2(320, 320)
worth = 3

[node name="Fall" type="Area2D" parent="."]
position = Vector2(504, 1144)
script = ExtResource("10_g0ujo")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Fall"]
shape = SubResource("RectangleShape2D_nse3a")
